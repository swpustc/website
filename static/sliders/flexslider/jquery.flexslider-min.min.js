(function(b){b.flexslider=function(f,a){var e=b(f);b.data(f,"flexslider",e);e.init=function(){e.vars=b.extend({},b.flexslider.defaults,a);b.data(f,"flexsliderInit",true);e.container=b(".slides",e).eq(0);e.wrap=b(".slides-wrap",e);e.slides=b(".slides:first > li",e);e.ch=e.container.height(e.slides.find("img:visible").height());function O(){$(window).resize(function(){e.container.height(e.slides.find("img:visible").height())})}O();e.entry=b(".slides:first > li .slides-entry",e);e.count=e.slides.length;e.animating=false;e.currentSlide=e.vars.slideToStart;e.animatingTo=e.currentSlide;e.atEnd=(e.currentSlide==0)?true:false;e.eventType=("ontouchstart" in document.documentElement)?"touchstart":"click";e.cloneCount=0;e.cloneOffset=0;e.manualPause=false;e.vertical=(e.vars.slideDirection=="vertical");e.prop=(e.vertical)?"top":"marginLeft";e.args={};e.transitions="webkitTransition" in document.body.style&&e.vars.useCSS;if(e.transitions){e.prop="-webkit-transform"}if(e.vars.controlsContainer!=""){e.controlsContainer=b(e.vars.controlsContainer).eq(b(".slides").index(e.container));e.containerExists=e.controlsContainer.length>0}if(e.vars.manualControls!=""){e.manualControls=b(e.vars.manualControls,((e.containerExists)?e.controlsContainer:e));e.manualExists=e.manualControls.length>0}if(e.vars.randomize){e.slides.sort(function(){return(Math.round(Math.random())-0.5)});e.container.empty().append(e.slides)}if(e.vars.animation.toLowerCase()=="slide"){if(e.transitions){e.setTransition(0)}e.css({overflow:"hidden"});if(e.vars.animationLoop){e.cloneCount=2;e.cloneOffset=1;e.container.append(e.slides.filter(":first").clone().addClass("clone")).prepend(e.slides.filter(":last").clone().addClass("clone"))}e.newSlides=b(".slides:first > li",e);var G=(-1*(e.currentSlide+e.cloneOffset));if(e.vertical){e.newSlides.css({display:"block",width:"100%","float":"left"});e.container.height((e.count+e.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){e.css({position:"relative"}).height(e.slides.filter(":first").height());e.args[e.prop]=(e.transitions)?"translate3d(0,"+G*e.height()+"px,0)":G*e.height()+"px";e.container.css(e.args)},100)}else{e.args[e.prop]=(e.transitions)?"translate3d("+G*e.width()+"px,0,0)":G*e.width()+"px";e.container.width((e.count+e.cloneCount)*200+"%").css(e.args);setTimeout(function(){e.newSlides.width(e.width()).css({"float":"left",display:"block"})},100)}}else{e.transitions=false;e.slides.css({width:"100%","float":"left",marginRight:"-100%"}).eq(e.currentSlide).fadeIn(e.vars.animationDuration)}if(e.vars.entry){var c=b('<div class="flex-entry"></div>');var J=e.slides.eq(e.currentSlide).find(".slides-entry").html();c.html(J);e.append(c)}if(e.vars.controlNav){if(e.manualExists){e.controlNav=e.manualControls}else{var N=b('<ol class="flex-control-nav"></ol>');var A=1;for(var z=0;z<e.count;z++){N.append("<li><a>"+A+"</a></li>");A++}if(e.containerExists){b(e.controlsContainer).append(N);e.controlNav=b(".flex-control-nav li a",e.controlsContainer)}else{e.append(N);e.controlNav=b(".flex-control-nav li a",e)}}e.controlNav.eq(e.currentSlide).addClass("active");e.controlNav.bind(e.eventType,function(g){g.preventDefault();if(!b(this).hasClass("active")){(e.controlNav.index(b(this))>e.currentSlide)?e.direction="next":e.direction="prev";e.flexAnimate(e.controlNav.index(b(this)),e.vars.pauseOnAction);var k=e.controlNav.index(b(this));var h=e.slides.eq(k).find(".slides-entry").html();c.html(h)}})}if(e.vars.directionNav){var j=b('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+e.vars.prevText+'</a></li><li><a class="next" href="#">'+e.vars.nextText+"</a></li></ul>");if(e.containerExists){b(e.controlsContainer).append(j);e.directionNav=b(".flex-direction-nav li a",e.controlsContainer)}else{e.wrap.append(j);e.directionNav=b(".flex-direction-nav li a",e)}if(!e.vars.animationLoop){if(e.currentSlide==0){e.directionNav.filter(".prev").addClass("disabled")}else{if(e.currentSlide==e.count-1){e.directionNav.filter(".next").addClass("disabled")}}}e.directionNav.bind(e.eventType,function(h){h.preventDefault();var g=(b(this).hasClass("next"))?e.getTarget("next"):e.getTarget("prev");if(e.canAdvance(g)){e.flexAnimate(g,e.vars.pauseOnAction)}var l;if($(this).hasClass("next")){l=(e.currentSlide==e.count-1)?0:e.currentSlide+1}else{l=(e.currentSlide==0)?e.count-1:e.currentSlide-1}var k=e.slides.eq(l).find(".slides-entry").html();c.html(k)})}if(e.vars.keyboardNav&&b("ul.slides").length==1){function K(h){if(e.animating){return}else{if(h.keyCode!=39&&h.keyCode!=37){return}else{if(h.keyCode==39){var g=e.getTarget("next")}else{if(h.keyCode==37){var g=e.getTarget("prev")}}if(e.canAdvance(g)){e.flexAnimate(g,e.vars.pauseOnAction)}}}}b(document).bind("keyup",K)}if(e.vars.mousewheel){e.mousewheelEvent=(/Firefox/i.test(navigator.userAgent))?"DOMMouseScroll":"mousewheel";e.bind(e.mousewheelEvent,function(k){k.preventDefault();k=k?k:window.event;var h=k.detail?k.detail*-1:k.originalEvent.wheelDelta/40,g=(h<0)?e.getTarget("next"):e.getTarget("prev");
if(e.canAdvance(g)){e.flexAnimate(g,e.vars.pauseOnAction)}})}if(e.vars.slideshow){if(e.vars.pauseOnHover&&e.vars.slideshow){e.hover(function(){e.pause()},function(){if(!e.manualPause){e.resume()}})}e.animatedSlides=setInterval(e.animateSlides,e.vars.slideshowSpeed)}if(e.vars.pausePlay){var C=b('<div class="flex-pauseplay"><span></span></div>');if(e.containerExists){e.controlsContainer.append(C);e.pausePlay=b(".flex-pauseplay span",e.controlsContainer)}else{e.append(C);e.pausePlay=b(".flex-pauseplay span",e)}var F=(e.vars.slideshow)?"pause":"play";e.pausePlay.addClass(F).text((F=="pause")?e.vars.pauseText:e.vars.playText);e.pausePlay.bind(e.eventType,function(g){g.preventDefault();if(b(this).hasClass("pause")){e.pause();e.manualPause=true}else{e.resume();e.manualPause=false}})}if("ontouchstart" in document.documentElement&&e.vars.touch){var i,y,H,B,E,d,D=false;e.each(function(){if("ontouchstart" in document.documentElement){this.addEventListener("touchstart",L,false)}});function L(g){if(e.animating){g.preventDefault()}else{if(g.touches.length==1){e.pause();B=(e.vertical)?e.height():e.width();d=Number(new Date());H=(e.vertical)?(e.currentSlide+e.cloneOffset)*e.height():(e.currentSlide+e.cloneOffset)*e.width();i=(e.vertical)?g.touches[0].pageY:g.touches[0].pageX;y=(e.vertical)?g.touches[0].pageX:g.touches[0].pageY;e.setTransition(0);this.addEventListener("touchmove",I,false);this.addEventListener("touchend",M,false)}}}function I(g){E=(e.vertical)?i-g.touches[0].pageY:i-g.touches[0].pageX;D=(e.vertical)?(Math.abs(E)<Math.abs(g.touches[0].pageX-y)):(Math.abs(E)<Math.abs(g.touches[0].pageY-y));if(!D){g.preventDefault();if(e.vars.animation=="slide"&&e.transitions){if(!e.vars.animationLoop){E=E/((e.currentSlide==0&&E<0||e.currentSlide==e.count-1&&E>0)?(Math.abs(E)/B+2):1)}e.args[e.prop]=(e.vertical)?"translate3d(0,"+(-H-E)+"px,0)":"translate3d("+(-H-E)+"px,0,0)";e.container.css(e.args)}}}function M(g){e.animating=false;if(e.animatingTo==e.currentSlide&&!D&&!(E==null)){var h=(E>0)?e.getTarget("next"):e.getTarget("prev");if(e.canAdvance(h)&&Number(new Date())-d<550&&Math.abs(E)>20||Math.abs(E)>B/2){e.flexAnimate(h,e.vars.pauseOnAction)}else{if(e.vars.animation!=="fade"){e.flexAnimate(e.currentSlide,e.vars.pauseOnAction)}}}this.removeEventListener("touchmove",I,false);this.removeEventListener("touchend",M,false);i=null;y=null;E=null;H=null}}if(e.vars.animation.toLowerCase()=="slide"){b(window).resize(function(){if(!e.animating&&e.is(":visible")){if(e.vertical){e.height(e.slides.filter(":first").height());e.args[e.prop]=(-1*(e.currentSlide+e.cloneOffset))*e.slides.filter(":first").height()+"px";if(e.transitions){e.setTransition(0);e.args[e.prop]=(e.vertical)?"translate3d(0,"+e.args[e.prop]+",0)":"translate3d("+e.args[e.prop]+",0,0)"}e.container.css(e.args)}else{e.newSlides.width(e.width());e.args[e.prop]=(-1*(e.currentSlide+e.cloneOffset))*e.width()+"px";if(e.transitions){e.setTransition(0);e.args[e.prop]=(e.vertical)?"translate3d(0,"+e.args[e.prop]+",0)":"translate3d("+e.args[e.prop]+",0,0)"}e.container.css(e.args)}}})}e.vars.start(e)};e.flexAnimate=function(c,d){if(!e.animating&&e.is(":visible")){e.animating=true;e.animatingTo=c;e.vars.before(e);if(d){e.pause()}if(e.vars.controlNav){e.controlNav.removeClass("active").eq(c).addClass("active")}e.atEnd=(c==0||c==e.count-1)?true:false;if(!e.vars.animationLoop&&e.vars.directionNav){if(c==0){e.directionNav.removeClass("disabled").filter(".prev").addClass("disabled")}else{if(c==e.count-1){e.directionNav.removeClass("disabled").filter(".next").addClass("disabled")}else{e.directionNav.removeClass("disabled")}}}if(!e.vars.animationLoop&&c==e.count-1){e.pause();e.vars.end(e)}if(e.vars.animation.toLowerCase()=="slide"){var h=(e.vertical)?e.slides.filter(":first").height():e.slides.filter(":first").width();if(e.currentSlide==0&&c==e.count-1&&e.vars.animationLoop&&e.direction!="next"){e.slideString="0px"}else{if(e.currentSlide==e.count-1&&c==0&&e.vars.animationLoop&&e.direction!="prev"){e.slideString=(-1*(e.count+1))*h+"px"}else{e.slideString=(-1*(c+e.cloneOffset))*h+"px"}}e.args[e.prop]=e.slideString;if(e.transitions){e.setTransition(e.vars.animationDuration);e.args[e.prop]=(e.vertical)?"translate3d(0,"+e.slideString+",0)":"translate3d("+e.slideString+",0,0)";e.container.css(e.args).one("webkitTransitionEnd transitionend",function(){e.wrapup(h)})}else{e.container.animate(e.args,e.vars.animationDuration,function(){e.wrapup(h)})}}else{e.slides.eq(e.currentSlide).fadeOut(e.vars.animationDuration);e.slides.eq(c).fadeIn(e.vars.animationDuration,function(){e.wrapup()})}}};e.wrapup=function(c){if(e.vars.animation=="slide"){if(e.currentSlide==0&&e.animatingTo==e.count-1&&e.vars.animationLoop){e.args[e.prop]=(-1*e.count)*c+"px";if(e.transitions){e.setTransition(0);e.args[e.prop]=(e.vertical)?"translate3d(0,"+e.args[e.prop]+",0)":"translate3d("+e.args[e.prop]+",0,0)"}e.container.css(e.args)}else{if(e.currentSlide==e.count-1&&e.animatingTo==0&&e.vars.animationLoop){e.args[e.prop]=-1*c+"px";if(e.transitions){e.setTransition(0);
e.args[e.prop]=(e.vertical)?"translate3d(0,"+e.args[e.prop]+",0)":"translate3d("+e.args[e.prop]+",0,0)"}e.container.css(e.args)}}}e.animating=false;e.currentSlide=e.animatingTo;e.vars.after(e)};e.animateSlides=function(){if(!e.animating){e.flexAnimate(e.getTarget("next"))}};e.pause=function(){clearInterval(e.animatedSlides);if(e.vars.pausePlay){e.pausePlay.removeClass("pause").addClass("play").text(e.vars.playText)}};e.resume=function(){e.animatedSlides=setInterval(e.animateSlides,e.vars.slideshowSpeed);if(e.vars.pausePlay){e.pausePlay.removeClass("play").addClass("pause").text(e.vars.pauseText)}};e.canAdvance=function(c){if(!e.vars.animationLoop&&e.atEnd){if(e.currentSlide==0&&c==e.count-1&&e.direction!="next"){return false}else{if(e.currentSlide==e.count-1&&c==0&&e.direction=="next"){return false}else{return true}}}else{return true}};e.getTarget=function(c){e.direction=c;if(c=="next"){return(e.currentSlide==e.count-1)?0:e.currentSlide+1}else{return(e.currentSlide==0)?e.count-1:e.currentSlide-1}};e.setTransition=function(c){e.container.css({"-webkit-transition-duration":(c/1000)+"s"})};e.init()};b.flexslider.defaults={animation:"fade",slideDirection:"horizontal",slideshow:true,slideshowSpeed:7000,animationDuration:600,directionNav:true,controlNav:true,keyboardNav:true,entry:true,mousewheel:false,prevText:"Previous",nextText:"Next",pausePlay:false,pauseText:"Pause",playText:"Play",randomize:false,slideToStart:0,animationLoop:true,pauseOnAction:true,pauseOnHover:false,useCSS:true,touch:true,controlsContainer:"",manualControls:"",start:function(){},before:function(){},after:function(){},end:function(){}};b.fn.flexslider=function(a){return this.each(function(){if(b(this).find(".slides > li").length==1){b(this).find(".slides > li").fadeIn(400)}else{if(b(this).data("flexsliderInit")!=true){new b.flexslider(this,a)}}})}})(jQuery);
