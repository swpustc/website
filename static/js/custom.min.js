(function(a){a.fn.lavaLamp=function(b){b=a.extend({fx:"linear",speed:500,click:function(){}},b||{});return this.each(function(){var g=a(this),f=function(){},c=g.parent(),i=a('<div id="marker" class="back"></div>').appendTo(c),j=a("> li",this),h=a("> li.current",this)[0]||a(j[0]).addClass("current")[0];j.not(".back").hover(function(){d(this)},f);a(this).hover(f,function(){d(h)});function e(k){i.css({"left":k.offsetLeft+"px","width":k.offsetWidth+"px"});h=k}j.click(function(k){e(this);return b.click.apply(this,[k,this])});e(h);function d(k){i.each(function(){a(this).dequeue()}).animate({width:k.offsetWidth,left:k.offsetLeft},b.speed,b.fx)}})}})(jQuery);WebFontConfig={google:{families:["Droid+Serif:400,700,400italic:latin","Love+Ya+Like+A+Sister::latin","Fredericka+the+Great::latin"]}};(function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https:":"http:")+"//ajax.lug.ustc.edu.cn/ajax/libs/webfont/1/webfont.js";a.type="text/javascript";a.async="true";var b=document.getElementsByTagName("body")[0];b.parentNode.insertBefore(a,b)})();jQuery(document).ready(function(){(function(){$("#jquery-load").each(function(){var e=$(this),c=e.addr("data-load"),d=e.addr("data-attr");if(c){if(d){d=" "+d}else{d=""}e.load(c+d)}})})();(function(){if($("#slider").length){$(window).load(function(){$("#slider img").css("visibility","visible").fadeIn();$("#slider").flexslider({directionNav:true})})}})();(function(){if($("#ei-slider").length){$("#ei-slider").eislideshow({animation:"center",autoplay:true,slideshow_interval:3000,titlesFactor:0})}})();(function(){var d=$(".projects-carousel");if(d.length){var c;if($(window).width()<479){c=1}else{if($(window).width()<768){c=1}else{if($(window).width()<960){c=2}else{c=3}}}d.jcarousel({animation:600,easing:"easeOutCubic",scroll:c})}})();(function(){var d={down:"downarrowclass",right:"rightarrowclass"};var f=$("#navigation").find("> ul"),e='<option value="" selected>Navigation</option>';var c=f.find("ul").parent();c.each(function(g){var h=$(this);this.istopheader=h.parents("ul").length==1?true:false;h.children("a").append('<span class="'+(this.istopheader?d.down:d.right)+'"></span>')});f.lavaLamp({fx:"easeOutCubic",speed:400});f.find("li").each(function(){var h=$(this),g=h.children("a"),j=h.parents("ul").length-1,i="";if(j){while(j>0){i+="--";j--}}e+='<option value="'+g.attr("href")+'">'+i+" "+g.text()+"</option>"}).end().after('<select class="nav-responsive">'+e+"</select>");$(".nav-responsive").on("change",function(){window.location=$(this).val()})})();(function(){var e=$("ul.latest");if(e.length){function c(k,i,j,h){var g=j.currSlide;var f=$(this).height();$(this).parent().animate({height:f})}e.after('<div class="latest-pager">&nbsp;</div>').cycle({fx:"fade",timeout:8000,height:"auto",pause:1,pager:".latest-pager",before:c,prev:"#prev",next:"#next",cleartypeNoBg:true});if(Modernizr.touch){function d(h,f){var g=$(h.currentTarget);g.data("dir","");if(f==="left"){g.cycle("next")}if(f==="right"){g.data("dir","prev");g.cycle("prev")}}e.swipe({swipeLeft:d,swipeRight:d,allowPageScroll:"auto"})}}})();(function(){var d=$("ul.quoteBox");if(d.length){$(window).load(function(){d.each(function(e){var f=$(this);f.cycle({before:function(j,g,h){var i=$(this);i.parent().stop().animate({height:i.height()},h.speed)},containerResize:false,easing:"easeInOutExpo",fx:"fade",fit:true,next:".quote-next",pause:true,prev:".quote-prev",slideExpr:"li",slideResize:true,speed:600,timeout:4000,width:"100%"})})});if(Modernizr.touch){function c(h,f){var g=$(h.currentTarget);g.data("dir","");if(f==="left"){g.cycle("next")}if(f==="right"){g.data("dir","prev");g.cycle("prev")}}d.swipe({swipeLeft:c,swipeRight:c,allowPageScroll:"auto"})}}})();jQuery("ul#flickr-badge").jflickrfeed({limit:6,qstrings:{id:"76745153@N04"},itemTemplate:'<li><a href="http://www.flickr.com/photos/76745153@N04"><img src="{{image_s}}" alt="{{title}}" /></a></li>'});(function(){$(".container").each(function(){var c=["iframe[src^='http://www.youtube.com']","iframe[src^='http://player.vimeo.com']","object","embed"],d=$(this).find(c.join(","));d.each(function(){var g=$(this);if(this.tagName.toLowerCase()=="embed"&&g.parent("object").length||g.parent(".liquid-video-wrapper").length){return}var e=this.tagName.toLowerCase()=="object"?g.attr("height"):g.height(),f=e/g.width();if(!g.attr("id")){var h=Math.floor(Math.random()*9999999);g.attr("id",h)}g.wrap('<div class="liquid-video-wrapper"></div>').parent(".liquid-video-wrapper").css("padding-top",(f*100)+"%");g.removeAttr("height").removeAttr("width")})})})();(function(){var d=$(".video-js");if(d.length){function c(){d.each(function(e){var f=$(this);playerWidth=f.parent().width(),playerHeight=playerWidth/(f.children(".vjs-tech").data("aspect-ratio")||1.78);if(playerWidth<=300){f.addClass("vjs-player-width-300")}else{f.removeClass("vjs-player-width-300")}if(playerWidth<=250){f.addClass("vjs-player-width-250")}else{f.removeClass("vjs-player-width-250")}f.css({"height":playerHeight,"width":playerWidth}).attr("height",playerHeight).attr("width",playerWidth)
})}c();$(window).on("resize",function(){var e=window.setTimeout(function(){window.clearTimeout(e);c()},30)})}})();(function(){var d=$(".AudioPlayerV1");if(d.length){d.each(function(e){var f=$(this);f.prev("audio").hide().end().wrap('<div class="entry-audio" />')});function c(e){d.each(function(h){var l=$(this),j=l.children("li"),g=l.children("li.APV1_container"),k=l.parent().width(),f=0;if(!e){l.prev("audio").hide()}if(k<=300){l.addClass("APV1_player_width_300")}else{l.removeClass("APV1_player_width_300")}if(k<=250){l.addClass("APV1_player_width_250")}else{l.removeClass("APV1_player_width_250")}if(k<=200){l.addClass("APV1_player_width_200")}else{l.removeClass("APV1_player_width_200")}j.each(function(){var i=$(this);f+=i.width()});l.width(l.parent().width());g.width(k-(f-g.width()))})}c();$(window).on("resize",function(){var e=window.setTimeout(function(){window.clearTimeout(e);c(resize=true)},30)})}})();var b=$("#marker"),a=$("#header-top > .container");$("#more").click(function(d){var c=$(d.target);if(c.hasClass("hide")){a.animate({opacity:"0"},200)}a.slideToggle(600,function(){c.toggleClass("hide");if($(this).css("display")=="block"){b.animate({opacity:0});$(this).animate({opacity:"1"},200)}else{b.animate({opacity:1});$(this).animate({opacity:"0"},200)}});d.preventDefault()});(function(){var c=$(".panel");$("#footer-more").click(function(g){var d=$(g.target);if(d.hasClass("hide")){c.animate({opacity:"0"},200)}var f=$(window).scrollTop();$panelHeight=$(".panel").outerHeight(true);c.slideToggle(600,function(){d.toggleClass("hide");if($(this).css("display")=="block"){$(this).animate({opacity:"1"},200)}else{$(this).animate({opacity:"0"},200)}});$("html, body").animate({scrollTop:f+$panelHeight},1000);g.preventDefault()})})();(function(){$(".content-wrapper").css("min-height",$(window).outerHeight(true)-$("#header").outerHeight(true)-$("#footer").outerHeight(true)-4)})();(function(){if($(".acc-container").length){var e=$(".acc-container"),c=$(".acc-trigger");e.hide();c.first().addClass("active").next().show();var d=e.outerWidth(true);c.css("width",d);e.css("width",d);c.on("click",function(f){if($(this).next().is(":hidden")){c.removeClass("active").next().slideUp(300);$(this).toggleClass("active").next().slideDown(300)}f.preventDefault()});$(window).on("resize",function(){d=e.outerWidth(true);c.css("width",c.parent().width());e.css("width",e.parent().width())})}})();(function(){if($("#contactform").length){var d=$("#contactform"),e='<img src="//cdn.swpbox.info/images/loader.gif?t=TIMESTAMP:BEGIN:images/loader.gif:END:TIMESTAMP" height="11" width="16" alt="Loading..." />';d.append('<div class="hidden" id="contact_form_responce">');var c=$("#contact_form_responce");c.append("<blockquote></blockquote>");d.submit(function(g){c.find("blockquote").html(e);var f={action:"contact_form_request",values:$("#contactform").serialize()};$.post("php/contact-send.php",f,function(h){h=$.parseJSON(h);$(".wrong-data").removeClass("wrong-data");c.find("img").remove();if(h.is_errors){c.find("blockquote").removeClass().addClass("error");$.each(h.info,function(k,j){$("[name="+k+"]").addClass("wrong-data");c.find("blockquote").append('Please enter correctly "'+j+'"!'+"</br>")})}else{c.find("blockquote").removeClass().addClass("success");if(h.info=="success"){c.find("blockquote").append("Your email has been sent!");d.find('input:not(input[type="submit"], button), textarea, select').val("").attr("checked",false);c.delay(2000).hide(400);return false}if(h.info=="server_fail"){c.find("blockquote").append("Server failed. Send later!")}}var i=d.offset().top+d.outerHeight()-$(window).height();if($(document).scrollTop()<i){$("html, body").animate({scrollTop:i})}c.show(450)});g.preventDefault()})}})();(function(){if($(".content-tabs").length||$(".aside-tabs").length){var d=$(".content-tabs"),c=$(".aside-tabs");$.fn.tabs=function(e){$tabsNavLis=e.find(".tabs-nav").children("li"),$tabContent=e.find(".tab-content");$tabsNavLis.first().addClass("active").show();$tabContent.first().show();e.find("ul.tabs-nav li").on("click",function(g){var f=$(this);e.find("ul.tabs-nav li").removeClass("active");f.addClass("active");e.find(".tab-content").hide();$(f.find("a").attr("href")).fadeIn();g.preventDefault()})};d.tabs(d);c.tabs(c)}})();(function(){if($(".toggle-container").length){$(".toggle-container").hide();$(".trigger").click(function(){$(this).toggleClass("active").next().slideToggle("slow");return false})}})();(function(){$.fn.placeholder=function(){if(typeof document.createElement("input").placeholder=="undefined"){$("[placeholder]").focus(function(){var c=$(this);if(c.val()==c.attr("placeholder")){c.val("");c.removeClass("placeholder")}}).blur(function(){var c=$(this);if(c.val()==""||c.val()==c.attr("placeholder")){c.addClass("placeholder");c.val(c.attr("placeholder"))}}).blur().parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var c=$(this);if(c.val()==c.attr("placeholder")){c.val("")}})})}};$.fn.placeholder()})();(function(){var c={button:"#back-top",text:"Back to Top",min:200,fadeIn:400,fadeOut:400,speed:800,easing:"easeOutQuint"};
$("body").append('<a href="#" id="'+c.button.substring(1)+'" title="'+c.text+'">'+c.text+"</a>");$(window).scroll(function(){var d=$(window).scrollTop();if(d>c.min){$(c.button).fadeIn(c.fadeIn)}else{$(c.button).fadeOut(c.fadeOut)}});$(c.button).click(function(d){$("html, body").animate({scrollTop:0},c.speed,c.easing);d.preventDefault()})})();(function(){if($(".single-image").length||$("a.video").length){(function(){$(".single-image, .video").fancybox({"titlePosition":"over","transitionIn":"fade","transitionOut":"fade"}).each(function(){$(this).append('<span class="curtain">&nbsp;</span>')})})()}$(window).load(function(){if($(".single-image").length||$("a.video").length){$(".single-image, .video").each(function(){var d=$(this),c=d.find(".curtain").siblings("img");if(c.length==1){d.width(c.outerWidth())}})}});if($("a.video").length){(function(){$("a.video").on("click",function(){$.fancybox({"type":"iframe","href":this.href.replace(new RegExp("watch\\?v=","i"),"embed/")+"&autoplay=1","overlayShow":true,"centerOnScroll":true,"speedIn":100,"speedOut":50,"width":640,"height":480});return false})})()}$.fn.slideShow=function(){this.animate({marginLeft:"show",marginRight:"show",paddingLeft:"show",paddingRight:"show",width:"show"})};$.fn.slideHide=function(){this.animate({marginLeft:"hide",marginRight:"hide",paddingLeft:"hide",paddingRight:"hide",width:"hide"})}})();(function(){var d="ddns-hide",j="ddns-show",k="one-fourth-third",g="data-categories",f=$("#portfolio-items.ddns article"),l=null,m="",i=m,h=m,e=m,c;f.each(function(){var o=$(this),n=o.children("div");h=o.attr(g);if(h==e){c=true}else{c=false;e=h}if(n.length==4){n=n.first().next();m=n.text();var q=n.next(),p=q.next();q.addClass(k);if(m==q.text()&&m==p.text()){q.addClass(d);p.addClass(d)}else{m="";c=false}}else{n=n.first().next();m=n.text()}if(c&&m==i){o.addClass(d)}else{if(l){l.removeClass(d)}i=m}l=o});if(l){l.removeClass(d)}l=null;f.each(function(){var r=$(this);if(l&&l.hasClass(d)&&!r.hasClass(d)){var p=l.children("div.time"),o=l.children("div.last"),q="nochg",n="";if(!p){p=$("<div/>").text("1970-01-01 ")}if(!o){o=$("<div/>").text(q+" 0.0.0.0").addClass(q)}if(o.hasClass(q)){n=" "+q}l.after($("<article/>").attr(g,l.attr(g)).addClass(j).append($("<div/>").addClass("one-fourth time").text(p.text().substring(0,11)+". . . . . ."),$("<div/>").addClass("three-fourth last"+n).text(o.text()),$("<hr/>").addClass("clear")))}l=r})})();(function(){var f=$("#portfolio-items"),j=$(".container"),e=$("#portfolio-filter"),g=$(".autoindex-title"),i="100%",h;if(f.length){$("article",f).each(function(k){var l=$(this);l.addClass(l.attr("data-categories"))});$(window).on("load",function(){f.isotope({itemSelector:"article",layoutMode:"fitRows"})})}if(e.length){var d=e.find("ul");if(d.length){d.each(function(){$(this).find("a").first().addClass("active")})}else{e.find("a").first().addClass("active")}e.find("a").not(".active").hide();if(g.length){var c=function(){var k=e.find("a.active");deviceWidth=(window.innerWidth>0)?window.innerWidth:screen.width,newWidth=j.width()-k.width()-57;if(k&&deviceWidth>=768){g.width(newWidth)}else{g.width("100%")}i=newWidth};c();$(window).load(c).resize(c)}e.on("click","a",function(n){var m=$(this),k=m.attr("data-categories");var l=e.find("ul");if(l.length){l.each(function(){if($(this).find(m).length){$(this).find("a").removeClass("active")}})}else{e.find("a").removeClass("active")}m.addClass("active");if(k){if(k!=="*"){k=k.replace(k,"."+k)}f.isotope({filter:k})}if(g.length){i=j.width()-m.width()-57}n.preventDefault()}).on("mouseenter",function(){var l=$(this),k=(window.innerWidth>0)?window.innerWidth:screen.width;clearTimeout(h);if(k<768){return false}h=setTimeout(function(){l.find("li a").stop(true,true).slideShow(300);g.stop(true,true).delay(100).animate({width:j.width()-400},{duration:220,specialEasing:{width:"linear"}})},100)}).on("mouseleave",function(){var l=$(this),k=(window.innerWidth>0)?window.innerWidth:screen.width;clearTimeout(h);if(k<768){return false}h=setTimeout(function(){l.find("li a").not(".active").stop(true,true).slideHide(150);g.stop(true,true).delay(200).animate({width:i},{duration:300,specialEasing:{width:"linear"}})},500)})}})();(function(){var d=$(".image-gallery-slider ul");if(d.length){$(window).load(function(){d.each(function(e){var f=$(this);f.css("height",f.find("li:first img").height()).after('<div class="image-gallery-slider-nav"> <a class="prev">Prev</a> <a class="next">Next</a> </div>').cycle({before:function(j,g,h){var i=$(this);i.parent().stop().animate({height:i.height()},h.speed)},containerResize:false,easing:"easeInOutExpo",fx:"scrollRight",fit:true,next:".next",pause:true,prev:".prev",slideExpr:"li",slideResize:true,speed:600,timeout:0,width:"100%"})});$(".image-gallery-slider-nav a").on("mouseenter",function(){$(this).parent().prev().cycle("pause")}).on("mouseleave",function(){$(this).parent().prev().cycle("resume")})});$(window).on("resize",function(){d.css("height",d.find("li:visible img").height())});if(Modernizr.touch){function c(g,f){var h=$(g.currentTarget);
h.data("dir","");if(f==="left"){h.cycle("next")}if(f==="right"){h.data("dir","prev");h.cycle("prev")}}d.swipe({swipeLeft:c,swipeRight:c,allowPageScroll:"auto"})}}})();(function(){if($(".tweet").length){$(".tweet").tweet({username:"fanfbmltemplate",page:1,avatar_size:40,count:4,loading_text:"loading ..."}).bind("loaded",function(){var c=$(this).find(".tweet_list")})}})();(function(){var d=$(".markdown"),e=d.find(".alignright-image");if(e.length){var c=function(){e.each(function(){var g=$(this),f=g.next();if(f){f.width(d.width()-g.outerWidth()-24)}})};c();$(window).load(c).resize(c)}})();(function(){var z=".domain-status-",o=$(z+"cdn"),l=$(z+"freeshell"),s=$(z+"static"),u=$("#map.cdn-map"),h=u.length,n="gmap-setup",d="addMarkers",C="removeAllMarkers",D=function(K,J){return $.Deferred(function(L){var M={address:"China"},N=function(){K.addClass(n);L.resolve()};M.onComplete=N;if(J&&J!=""){$.getJSON(J,function(O){O.onComplete=N;K.gMap(O)}).error(function(){K.gMap(M)})}else{K.gMap(M)}}).promise()},e=function(K,J){return $.Deferred(function(L){if(J&&J!=""){$.getJSON(J,function(M){K.gMap(C);K.gMap(d,M);L.resolve()}).error(function(){L.resolve()})}else{L.resolve()}}).promise()},k="json-center",v="json-marker",I=10000,A=500;if(o.length||l.length||s.length||h){var w="/domain-test.png?t=",c="//freeshell.swpbox.info"+w,F="//static.swpbox.info"+w,y=null,t=null,j="highlight",G=j+"1",r=j+"2",f=j+"3",q=j+"4",g=" ",i=G+g+r+g+f+g+q,B=function(J){return $.Deferred(function(K){$("<img/>").load(function(){K.resolve()}).error(function(){K.reject()}).attr("src",J+(new Date()).getTime())}).promise()},m="-nl",E="-up",x="-dn",H={a:function(){$.when(B(c)).done(function(){if(y!==true){y=true;l.each(function(){$(this).removeClass(i).addClass(r)});o.each(function(){$(this).removeClass(i).addClass(t===null?q:(t?r:q))});if(h){var J=0;u.each(function(){var L=$(this),K=v+E+(t===null?m:(t?E:x));$.when(e(L,L.attr(K))).done(function(){if(++J==h){setTimeout(H.b,A)}})})}else{setTimeout(H.b,A)}}else{setTimeout(H.b,A)}}).fail(function(){if(y!==false){y=false;l.each(function(){$(this).removeClass(i).addClass(f)});o.each(function(){$(this).removeClass(i).addClass(t===null?G:(t?q:f))});if(h){var J=0;u.each(function(){var L=$(this),K=v+x+(t===null?m:(t?E:x));$.when(e(L,L.attr(K))).done(function(){if(++J==h){setTimeout(H.b,A)}})})}else{setTimeout(H.b,A)}}else{setTimeout(H.b,A)}})},b:function(){$.when(B(F)).done(function(){if(t!==true){t=true;s.each(function(){$(this).removeClass(i).addClass(r)});o.each(function(){$(this).removeClass(i).addClass((y?r:q))});if(h){var J=0;u.each(function(){var L=$(this),K=v+(y?E:x)+E;$.when(e(L,L.attr(K))).done(function(){if(++J==h){setTimeout(H.a,I)}})})}else{setTimeout(H.a,I)}}else{setTimeout(H.a,I)}}).fail(function(){if(t!==false){t=false;s.each(function(){$(this).removeClass(i).addClass(f)});o.each(function(){$(this).removeClass(i).addClass((y?q:f))});if(h){var J=0;u.each(function(){var L=$(this),K=v+(y?E:x)+x;$.when(e(L,L.attr(K))).done(function(){if(++J==h){setTimeout(H.a,I)}})})}else{setTimeout(H.a,I)}}else{setTimeout(H.a,I)}})}};if(h){var p=0;u.each(function(){var L=$(this),J=L.attr(k),K=L.attr(v);$.when(D(L,J)).done(function(){$.when(e(L,K)).done(function(){if(++p==h){setTimeout(H.a,A)}})})})}else{setTimeout(H.a,A)}}else{$("#map").each(function(){var L=$(this),J=L.attr(k),K=L.attr(v);$.when(D(L,J)).done(function(){e(L,K)})})}})();(function(){$(".spanwords").each(function(){var d=$(this),c=d.text().replace(/./g,"<span>$&</span>");d.html(c)})})()});(function(){$.fn.jflickrfeed=function(c,e){c=$.extend(true,{flickrbase:"http://api.flickr.com/services/feeds/",feedapi:"photos_public.gne",limit:20,qstrings:{lang:"en-us",format:"json",jsoncallback:"?"},cleanDescription:true,useTemplate:true,itemTemplate:"",itemCallback:function(){}},c);var a=c.flickrbase+c.feedapi+"?";var d=true;for(var b in c.qstrings){if(!d){a+="&"}a+=b+"="+c.qstrings[b];d=false}return $(this).each(function(){var g=$(this);var f=this;$.getJSON(a,function(h){$.each(h.items,function(m,p){if(m<c.limit){if(c.cleanDescription){var o=/<p>(.*?)<\/p>/g;var j=p.description;if(o.test(j)){p.description=j.match(o)[2];if(p.description!=undefined){p.description=p.description.replace("<p>","").replace("</p>","")}}}p["image_s"]=p.media.m.replace("_m","_s");p["image_t"]=p.media.m.replace("_m","_t");p["image_m"]=p.media.m.replace("_m","_m");p["image"]=p.media.m.replace("_m","");p["image_b"]=p.media.m.replace("_m","_b");delete p.media;if(c.useTemplate){var n=c.itemTemplate;for(var l in p){var k=new RegExp("{{"+l+"}}","g");n=n.replace(k,p[l])}g.append(n)}c.itemCallback.call(f,p)}});if($.isFunction(e)){e.call(f,h)}})})}})();jQuery.cookie=function(b,j,m){if(typeof j!="undefined"){m=m||{};if(j===null){j="";m.expires=-1}var e,l,g,a;if(typeof m.expires!="undefined"&&m.expires===null){e=""}else{if(m.expires&&(typeof m.expires=="number"||m.expires.toUTCString)){var f;if(typeof m.expires=="number"){f=new Date();f.setTime(f.getTime()+(m.expires*86400000))}else{f=m.expires}e="; expires="+f.toUTCString()
}else{e="; expires=Fri, 01 Jan 2100 00:00:00 GMT"}}if(typeof m.path!="undefined"&&m.path===null){l=""}else{if(m.path){l="; path="+(m.path)}else{l="; path=/"}}if(typeof m.domain!="undefined"&&m.domain===null){g=""}else{if(m.domain){g="; domain="+(m.domain)}else{g="; domain=swpbox.info"}}if(typeof m.secure!="undefined"&&m.secure===null){a=""}else{if(m.secure){a="; secure"}else{a=""}}document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}};
